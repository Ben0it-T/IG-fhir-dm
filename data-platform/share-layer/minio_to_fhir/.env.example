# ============================================
# MinIO Configuration
# ============================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=fhir-data
MINIO_SECURE=false

# ============================================
# HAPI FHIR Server Configuration
# ============================================
FHIR_BASE_URL=http://localhost:8080/fhir
FHIR_AUTH_ENABLED=false
FHIR_USERNAME=
FHIR_PASSWORD=

# ============================================
# Directory Configuration
# ============================================
# Temporary directory for downloads from MinIO
DOWNLOAD_DIR=./tmp/fhir-download

# Directory for prepared FHIR bundles (output of prepare_fhir_bundles.py)
UPLOAD_DIR=./tmp/fhir-upload

# ============================================
# Bundle Preparation Configuration
# ============================================
# Input directory for NDJSON files (used by prepare_fhir_bundles.py)
INPUT_DIR=./tmp/fhir-download

# Output directory for Bundle JSON files (used by prepare_fhir_bundles.py)
OUTPUT_DIR=./tmp/fhir-upload

# Resources per bundle (default: 100)
BATCH_SIZE=100

# Enable smart reference analysis to determine upload order (default: true)
ANALYZE_REFERENCES=true

# Keep original resource IDs in bundles (default: true)
PRESERVE_IDS=true

# Verify consistency between source and destination resources (default: true)
VERIFY_CONSISTENCY=true

# Generate detailed debug report on consistency failure (default: true)
GENERATE_DEBUG_REPORT=true

# Export missing resource IDs to file on consistency failure (default: true)
EXPORT_MISSING_IDS=true

# ============================================
# Upload Configuration
# ============================================
# Continue processing if a batch fails
CONTINUE_ON_ERROR=true

# ============================================
# Cleanup Configuration
# ============================================
# Automatically cleanup downloaded files after upload
AUTO_CLEANUP=true

# Keep empty directories after cleanup
KEEP_EMPTY_DIRS=false
